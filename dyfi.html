
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Module list &#8212; DYFI V4 Manual</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Test Package" href="tests.html" />
    <link rel="prev" title="rundyfi.py" href="app.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-list">
<h1>Module list<a class="headerlink" href="#module-list" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-dyfi.aggregate">
<span id="dyfi-aggregate"></span><h2>dyfi.aggregate<a class="headerlink" href="#module-dyfi.aggregate" title="Permalink to this headline">¶</a></h2>
<p>Functions to aggregate lists of entries or <code class="xref py py-class docutils literal notranslate"><span class="pre">Entry</span></code> objects into geocoded boxes or ZIP code locations. (<em>Note</em>: ZIP codes not yet implemented)</p>
<dl class="function">
<dt id="dyfi.aggregate.aggregate">
<code class="sig-name descname">aggregate</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">producttype</em>, <em class="sig-param">debug=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/aggregate.html#aggregate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.aggregate.aggregate" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Aggregate entries into geocoded boxes</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>entries</strong> – <code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-class docutils literal notranslate"><span class="pre">Entry</span></code> objects</p></li>
<li><p><strong>producttype</strong> – The product type (zip, geo_1km, geo_10km)</p></li>
<li><p><strong>debug</strong> (<em>bool</em>) – If true, store debugging info</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>GeoJSON</cite> <code class="xref py py-obj docutils literal notranslate"><span class="pre">FeatureCollection</span></code>, see below</p>
</dd>
</dl>
<p>The return value is a <cite>GeoJSON</cite> <code class="xref py py-obj docutils literal notranslate"><span class="pre">FeatureCollection</span></code> with
one feature for each aggregated location (geocoded block or
ZIP code).  Each Feature in the <cite>GeoJSON</cite> FeatureCollection has an <cite>id</cite>
attribute (the UTM string or ZIP code) and the following properties:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>location</p></td>
<td><p>UTM string or ZIP code</p></td>
</tr>
<tr class="row-even"><td><p>center</p></td>
<td><p>Center of this location, for plotting (<cite>GeoJSON Point</cite>)</p></td>
</tr>
<tr class="row-odd"><td><p>nresp</p></td>
<td><p>number of responses in this location</p></td>
</tr>
<tr class="row-even"><td><p>intensity</p></td>
<td><p>aggregated intensity for this location</p></td>
</tr>
</tbody>
</table>
<p>The <cite>FeatureCollection</cite> also has the following properties:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 89%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>name</p></td>
<td><p>Same as <code class="xref py py-attr docutils literal notranslate"><span class="pre">producttype</span></code></p></td>
</tr>
<tr class="row-even"><td><p>id</p></td>
<td><p>Same as <code class="xref py py-attr docutils literal notranslate"><span class="pre">producttype</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>nresp</p></td>
<td><p>Total number of responses from each valid location</p></td>
</tr>
<tr class="row-even"><td><p>maxint</p></td>
<td><p>Maximum intensity from each valid location</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="dyfi.aggregate.getUtmFromCoordinates">
<code class="sig-name descname">getUtmFromCoordinates</code><span class="sig-paren">(</span><em class="sig-param">lat</em>, <em class="sig-param">lon</em>, <em class="sig-param">span=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/aggregate.html#getUtmFromCoordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.aggregate.getUtmFromCoordinates" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Convert lat/lon coordinates to UTM string</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>lat</strong> (<em>float</em>) – Latitude</p></li>
<li><p><strong>lon</strong> (<em>float</em>) – Longitude</p></li>
<li><p><strong>span</strong> – (optional) Size of the UTM box (see below)</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>UTM string with the correct resolution</p>
</dd>
</dl>
<p>Convert lat/lon coordinates into a UTM string using the <code class="xref py py-obj docutils literal notranslate"><span class="pre">UTM</span></code> package. If <code class="xref py py-obj docutils literal notranslate"><span class="pre">span</span></code> is specified, the output resolution is degraded via the <code class="xref py py-obj docutils literal notranslate"><span class="pre">floor</span></code> function.</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">span</span></code> accepts the values ‘geo_10km’, ‘geo_1km’, or the size of the UTM box in meters (should be a power of 10).</p>
<p>This will NOT filter the location based on precision of the input coordinates.</p>
</dd></dl>

<dl class="function">
<dt id="dyfi.aggregate.getUtmForEntry">
<code class="sig-name descname">getUtmForEntry</code><span class="sig-paren">(</span><em class="sig-param">entry</em>, <em class="sig-param">span</em>, <em class="sig-param">check=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/aggregate.html#getUtmForEntry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.aggregate.getUtmForEntry" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Find the UTM location for an entry</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>entry</strong> – The <code class="xref py py-obj docutils literal notranslate"><span class="pre">Entry</span></code> object to locate</p></li>
<li><p><strong>span</strong> – Size of the UTM box (see below)</p></li>
<li><p><strong>check</strong> – if true, check <cite>confidence</cite> key</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>UTM string with the correct resolution</p>
</dd>
</dl>
<p>Compute the UTM block for an <code class="xref py py-obj docutils literal notranslate"><span class="pre">Entry</span></code> object using <a class="reference internal" href="#dyfi.aggregate.getUtmFromCoordinates" title="dyfi.aggregate.getUtmFromCoordinates"><code class="xref py py-func docutils literal notranslate"><span class="pre">getUtmFromCoordinates()</span></code></a>. The UTM coordinate resolution is degraded via the <code class="xref py py-obj docutils literal notranslate"><span class="pre">floor</span></code> function depending on the <code class="xref py py-obj docutils literal notranslate"><span class="pre">span</span></code> parameter.</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">span</span></code> accepts the values ‘geo_10km’, ‘geo_1km’, or the size of the UTM box in meters (should be a power of 10).</p>
<p>If the <cite>check</cite> flag is true, check the <cite>confidence</cite> key of this entry, and return null if the derived precision is less than <cite>span</cite>.</p>
</dd></dl>

<dl class="function">
<dt id="dyfi.aggregate.checkConfidence">
<code class="sig-name descname">checkConfidence</code><span class="sig-paren">(</span><em class="sig-param">entry</em>, <em class="sig-param">span</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/aggregate.html#checkConfidence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.aggregate.checkConfidence" title="Permalink to this definition">¶</a></dt>
<dd><p>If entry confidence is specified, use it to check against the geocoding span.
Otherwise, use the length of the latitude and longitude strings.</p>
</dd></dl>

<dl class="function">
<dt id="dyfi.aggregate.getUtmPolyFromString">
<code class="sig-name descname">getUtmPolyFromString</code><span class="sig-paren">(</span><em class="sig-param">utm</em>, <em class="sig-param">span</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/aggregate.html#getUtmPolyFromString"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.aggregate.getUtmPolyFromString" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Compute the (lat/lon) bounds and center from a UTM string</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>utm</strong> – A UTM string</p></li>
<li><p><strong>span</strong> (<em>int</em>) – The size of the UTM box in meters</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code>, see below</p>
</dd>
</dl>
<p>Get the bounding box polygon and center point for a UTM string suitable for plotting.</p>
<p>The return value has two keys:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>center</p></td>
<td><p>A GeoJSON Point object</p></td>
</tr>
<tr class="row-even"><td><p>bounds</p></td>
<td><p>A GeoJSON Polygon object</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="dyfi.aggregate.myFloor">
<code class="sig-name descname">myFloor</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">multiple</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/aggregate.html#myFloor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.aggregate.myFloor" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Round down to a multiple of 10/100/1000…</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em>) – A number</p></li>
<li><p><strong>multiple</strong> (<em>int</em>) – Power of 10 indicating how many places to round</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
<p>This emulates the <cite>math.floor</cite> function but
rounding down a positive power of 10 (i.e. 10, 100, 1000…)</p>
<p>For example, myFloor(1975,100) returns 1900.</p>
</dd></dl>

<dl class="function">
<dt id="dyfi.aggregate.myCeil">
<code class="sig-name descname">myCeil</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">multiple</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/aggregate.html#myCeil"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.aggregate.myCeil" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Round up to a multiple of 10/100/etc.</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em>) – A number</p></li>
<li><p><strong>multiple</strong> (<em>int</em>) – Power of 10 indicating how many places to round</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
<p>This emulates the <cite>math.ceil</cite> function but
rounding up a positive power of 10 (i.e. 10, 100, 1000…)</p>
<p>For example, myCeil(1975,100) returns 2000.</p>
</dd></dl>

</div>
<div class="section" id="module-dyfi.cdi">
<span id="dyfi-cdi"></span><h2>dyfi.cdi<a class="headerlink" href="#module-dyfi.cdi" title="Permalink to this headline">¶</a></h2>
<p>A collection of functions to compute and manipulate intensity. For details, see the <span class="xref std std-ref">Scientific Guide</span>.</p>
<dl class="data">
<dt id="dyfi.cdi.cdiWeights">
<code class="sig-name descname">cdiWeights</code><a class="headerlink" href="#dyfi.cdi.cdiWeights" title="Permalink to this definition">¶</a></dt>
<dd><p>A dict of the CDI calculation indices and their relative weights.</p>
</dd></dl>

<dl class="data">
<dt id="dyfi.cdi.cdiDamageValues">
<code class="sig-name descname">cdiDamageValues</code><a class="headerlink" href="#dyfi.cdi.cdiDamageValues" title="Permalink to this definition">¶</a></dt>
<dd><p>An OrderedDict of damage values and the d_text strings correspond to those values.</p>
</dd></dl>

<dl class="function">
<dt id="dyfi.cdi.calculate">
<code class="sig-name descname">calculate</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">cwsOnly=False</em>, <em class="sig-param">fine=False</em>, <em class="sig-param">debug=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/cdi.html#calculate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.cdi.calculate" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Calculate the intensity for one entry, or list of entries</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>entries</strong> (<em>list</em>) – Single <code class="xref py py-class docutils literal notranslate"><span class="pre">Entry</span></code> object or list of entries in an aggregated area</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p>If given a single entry instead of list, calculate the decimal intensity for that entry.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Intensity is defined over an area, not a point. “Point intensities” should be used as estimates or for debugging only.</p>
</div>
<p>A computed value less than or equal to zero is considered intensity I (unfelt).
A computed value greater than zero is considered at least intensity II (felt).
Intensity is rounded off to the nearest 0.1 unit.</p>
</dd></dl>

<dl class="function">
<dt id="dyfi.cdi.getDamageFromText">
<code class="sig-name descname">getDamageFromText</code><span class="sig-paren">(</span><em class="sig-param">entry</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/cdi.html#getDamageFromText"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.cdi.getDamageFromText" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Convert a damage string to a damage value</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>entry</strong> – An <cite>Entry</cite> object or <cite>str</cite></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p>This function takes either an <cite>Entry</cite> object or an actual d_text string.
Multiple damage strings (separated by whitespace) are allowed.</p>
</dd></dl>

<dl class="function">
<dt id="dyfi.cdi.getFeltFromOther">
<code class="sig-name descname">getFeltFromOther</code><span class="sig-paren">(</span><em class="sig-param">entry</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/cdi.html#getFeltFromOther"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.cdi.getFeltFromOther" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Return felt index value modified by other_felt</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>entry</strong> – An <cite>Entry</cite> object</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p>Returns a modified ‘felt’ value when ‘other_felt’ is entered.</p>
</dd></dl>

</div>
<div class="section" id="module-dyfi.config">
<span id="dyfi-config"></span><h2>dyfi.config<a class="headerlink" href="#module-dyfi.config" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="dyfi.config.Config">
<em class="property">class </em><code class="sig-name descname">Config</code><span class="sig-paren">(</span><em class="sig-param">configfile='./config.yml'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/config.html#Config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.config.Config" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Handle DYFI configuration options</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>configfile</strong> (<em>str</em>) – YAML file with configuration options (default <cite>./cofig.yml</cite>)</p>
</dd>
</dl>
<dl class="attribute">
<dt id="dyfi.config.Config.sections">
<code class="sig-name descname">sections</code><a class="headerlink" href="#dyfi.config.Config.sections" title="Permalink to this definition">¶</a></dt>
<dd><p>Dict of configuration sections suitable for __iter__.</p>
</dd></dl>

<p>A general class to handle configuration options using a <cite>YAML</cite> config file.
See the <a class="reference internal" href="implementation-guide.html#implementation-guide"><span class="std std-ref">Implementation Guide</span></a> for details.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">dyfi</span> <span class="kn">import</span> <span class="n">Config</span>
<span class="n">config</span><span class="o">=</span><span class="n">Config</span><span class="p">()</span>
<span class="n">config</span><span class="o">=</span><span class="n">Config</span><span class="p">(</span><span class="s1">&#39;./custom.yml&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To access values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dbconfigs</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">db</span> <span class="c1"># A hash of database configs</span>
<span class="n">dbfiles</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">db</span><span class="p">[</span><span class="s1">&#39;files&#39;</span><span class="p">]</span>
<span class="n">eventdbfile</span><span class="o">=</span><span class="n">config</span><span class="o">.</span><span class="n">db</span><span class="p">[</span><span class="s1">&#39;files&#39;</span><span class="p">][</span><span class="s1">&#39;event&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Looping through config sections:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">section</span> <span class="ow">in</span> <span class="n">config</span><span class="p">:</span>
  <span class="nb">print</span><span class="p">(</span><span class="n">section</span><span class="p">)</span> <span class="c1"># prints a list of sections</span>
</pre></div>
</div>
<p>Prettyprint all configs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">config</span><span class="p">)</span> <span class="c1"># prettyprints all configs</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-dyfi.contents">
<span id="dyfi-contents"></span><h2>dyfi.contents<a class="headerlink" href="#module-dyfi.contents" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="dyfi.contents.Contents">
<em class="property">class </em><code class="sig-name descname">Contents</code><span class="sig-paren">(</span><em class="sig-param">container</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/contents.html#Contents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.contents.Contents" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Create a <span class="xref std std-ref">contents.xml</span> file</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>container</strong> – A <a class="reference internal" href="#module-dyfi.dyfiContainer" title="dyfi.dyfiContainer"><code class="xref py py-class docutils literal notranslate"><span class="pre">dyfi.dyfiContainer</span></code></a> object containing the event data</p>
</dd>
</dl>
<p>The <span class="xref std std-ref">contents.xml</span> file is a list of DYFI products to be exported online. It is used by the USGS Earthquake Pages webserver to populate the DYFI page for this event. See the <a class="reference internal" href="implementation-guide.html#implementation-guide"><span class="std std-ref">Implementation Guide</span></a> for details.</p>
<p>This module checks each member of <a class="reference internal" href="#dyfi.contents.Contents.PRODUCT_TYPES" title="dyfi.contents.Contents.PRODUCT_TYPES"><code class="xref py py-attr docutils literal notranslate"><span class="pre">PRODUCT_TYPES</span></code></a> and <a class="reference internal" href="#dyfi.contents.Contents.FORMAT_TYPES" title="dyfi.contents.Contents.FORMAT_TYPES"><code class="xref py py-attr docutils literal notranslate"><span class="pre">FORMAT_TYPES</span></code></a> to see which files exist in the event directory and uses that to populate <span class="xref std std-ref">contents.xml</span>.</p>
<dl class="attribute">
<dt id="dyfi.contents.Contents.PRODUCT_TYPES">
<code class="sig-name descname">PRODUCT_TYPES</code><a class="headerlink" href="#dyfi.contents.Contents.PRODUCT_TYPES" title="Permalink to this definition">¶</a></dt>
<dd><p>An <cite>OrderedDict</cite> of DYFI product types and the titles.</p>
</dd></dl>

<dl class="attribute">
<dt id="dyfi.contents.Contents.FORMAT_TYPES">
<code class="sig-name descname">FORMAT_TYPES</code><a class="headerlink" href="#dyfi.contents.Contents.FORMAT_TYPES" title="Permalink to this definition">¶</a></dt>
<dd><p>An <cite>OrderedDict</cite> of the available formats and their corresponding MIME types.</p>
</dd></dl>

<dl class="method">
<dt id="dyfi.contents.Contents.toXML">
<code class="sig-name descname">toXML</code><span class="sig-paren">(</span><em class="sig-param">save=False</em>, <em class="sig-param">filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/contents.html#Contents.toXML"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.contents.Contents.toXML" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Create an XML file from this object</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>save</strong> (<em>bool</em>) – If <cite>True</cite>, save to file</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – Output file (default <cite>[data]/[evid]/contents.xml</cite>)</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>If <cite>save</cite> is true, return the filename; otherwise, return the XML as text</p>
</dd>
</dl>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">contents</span><span class="o">=</span><span class="n">Contents</span><span class="p">(</span><span class="n">dyficontainer</span><span class="p">)</span>
<span class="n">xmltext</span><span class="o">=</span><span class="n">contents</span><span class="o">.</span><span class="n">toXML</span><span class="p">()</span>           <span class="c1"># create text output</span>
<span class="n">filename</span><span class="o">=</span><span class="n">contents</span><span class="o">.</span><span class="n">toXML</span><span class="p">(</span><span class="n">save</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># save to file</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dyfi.db">
<span id="dyfi-db"></span><h2>dyfi.db<a class="headerlink" href="#module-dyfi.db" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="dyfi.db.Db">
<em class="property">class </em><code class="sig-name descname">Db</code><span class="sig-paren">(</span><em class="sig-param">config=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/db.html#Db"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.db.Db" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Open a connection to access the DYFI database</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>config</strong> – (optional) <code class="xref py py-class docutils literal notranslate"><span class="pre">Config</span></code> object</p>
</dd>
</dl>
<p>This connection is required to run all database queries.
The database is currently implemented in SQLite.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To change to the database implementation to MySQL, see the top of this file.</p>
</div>
<dl class="data">
<dt id="dyfi.db.Db.TABLES">
<code class="sig-name descname">TABLES</code><a class="headerlink" href="#dyfi.db.Db.TABLES" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of all tables (including extended tables).</p>
</dd></dl>

<dl class="data">
<dt id="dyfi.db.Db.EXTTABLES">
<code class="sig-name descname">EXTTABLES</code><a class="headerlink" href="#dyfi.db.Db.EXTTABLES" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of all the extended tables.</p>
</dd></dl>

<dl class="data">
<dt id="dyfi.db.Db.EXT_MINYR">
<code class="sig-name descname">EXT_MINYR</code><a class="headerlink" href="#dyfi.db.Db.EXT_MINYR" title="Permalink to this definition">¶</a></dt>
<dd><p>The year of the earliest named extended table. Previous entries are combined into the table ‘extended_pre’.</p>
</dd></dl>

<dl class="data">
<dt id="dyfi.db.Db.EXT_MAXYR">
<code class="sig-name descname">EXT_MAXYR</code><a class="headerlink" href="#dyfi.db.Db.EXT_MAXYR" title="Permalink to this definition">¶</a></dt>
<dd><p>The year of the latest defined extended table. This is calculated from the current year.</p>
</dd></dl>

<dl class="attribute">
<dt id="dyfi.db.Db.latesttable">
<code class="sig-name descname">latesttable</code><a class="headerlink" href="#dyfi.db.Db.latesttable" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the latest extended table.</p>
</dd></dl>

<dl class="method">
<dt id="dyfi.db.Db.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">table=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/db.html#Db.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.db.Db.save" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Save a <code class="xref py py-class docutils literal notranslate"><span class="pre">dyfi.Event</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">dyfi.Entry</span></code> object to the database table</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>obj</strong> – Data object</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Success or failure</p>
</dd>
</dl>
<p>Save this object to the database. This is mostly a stub to the <cite>RawDb</cite> <a class="reference internal" href="#dyfi.db.Db.save" title="dyfi.db.Db.save"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save</span></code></a> function.</p>
<p>If the primary exists on this table (eventid or subid), this will rewrite the row. Otherwise, it will create a new row.</p>
<p>For consistency, if the object is an <cite>Entry</cite> object, this will automagically overwrite the <cite>table</cite> attribute.</p>
</dd></dl>

<dl class="method">
<dt id="dyfi.db.Db.loadEvent">
<code class="sig-name descname">loadEvent</code><span class="sig-paren">(</span><em class="sig-param">evid</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/db.html#Db.loadEvent"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.db.Db.loadEvent" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Read database for event data for an event ID</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>evid</strong> (<em>str</em>) – event ID, e.g. ‘us1000abcd’</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>dict</cite> suitable for input to an <code class="xref py py-obj docutils literal notranslate"><span class="pre">Event</span></code> instance</p>
</dd>
</dl>
<p>This is mostly a wrapper to the <cite>RawDb</cite> <code class="xref py py-meth docutils literal notranslate"><span class="pre">query()</span></code> method. This returns a <cite>dict</cite> with keys being columns of the <cite>Event</cite> table.</p>
</dd></dl>

<dl class="method">
<dt id="dyfi.db.Db.loadEntries">
<code class="sig-name descname">loadEntries</code><span class="sig-paren">(</span><em class="sig-param">evid=None</em>, <em class="sig-param">event=None</em>, <em class="sig-param">table=None</em>, <em class="sig-param">startdatetime=None</em>, <em class="sig-param">enddatetime=None</em>, <em class="sig-param">timewindow=None</em>, <em class="sig-param">querytext=None</em>, <em class="sig-param">loadSuspect=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/db.html#Db.loadEntries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.db.Db.loadEntries" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Search the extended tables for entries matching a query</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>evid</strong> (<em>str</em>) – (optional) eventid</p></li>
<li><p><strong>event</strong> (<a class="reference internal" href="#dyfi.event.Event" title="dyfi.event.Event"><em>Event</em></a>) – (optional) Event object</p></li>
<li><p><strong>table</strong> – (optional) table or tables</p></li>
<li><p><strong>startdatetime</strong> – (optional) datetime to start search</p></li>
<li><p><strong>enddatetime</strong> – (optional) datetime to end search</p></li>
<li><p><strong>timewindow</strong> – (optional) time window in hours after startdatetime</p></li>
<li><p><strong>querytext</strong> (<em>str</em>) – (optional) clause(s)</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of entries suitable for aggregation</p>
</dd>
</dl>
<p>This is mostly a wrapper to the <code class="xref py py-obj docutils literal notranslate"><span class="pre">rawDBSqlite</span></code> <code class="xref py py-obj docutils literal notranslate"><span class="pre">query</span></code> object.</p>
<p>It also figures out which extended tables to search,
depending on the date of the event, using
<a class="reference internal" href="#dyfi.db.Db.getExtendedTablesByDatetime" title="dyfi.db.Db.getExtendedTablesByDatetime"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getExtendedTablesByDatetime</span></code></a>.</p>
<p>For valid values of parameter <code class="xref py py-attr docutils literal notranslate"><span class="pre">table</span></code> see the <a class="reference internal" href="#dyfi.db.Db.checkTables" title="dyfi.db.Db.checkTables"><code class="xref py py-meth docutils literal notranslate"><span class="pre">checkTables()</span></code></a> method.</p>
<p>The optional query parameter is a string of SQL <cite>WHERE</cite> clauses
(e.g. ‘suspect=0 OR suspect is null’).</p>
<p>Each item in the return list is a <cite>dict</cite> of entries from the <cite>extended</cite> tables. An additional key <cite>table</cite> is added to each entry that contains the name of the source extended table (see <code class="xref py py-obj docutils literal notranslate"><span class="pre">query</span></code>).</p>
</dd></dl>

<dl class="method">
<dt id="dyfi.db.Db.checkTables">
<code class="sig-name descname">checkTables</code><span class="sig-paren">(</span><em class="sig-param">table</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/db.html#Db.checkTables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.db.Db.checkTables" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Check that the table or tables exist</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>table</strong> – Table or list of tables, see below</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of matching table names</p>
</dd>
</dl>
<p>The <code class="xref py py-attr docutils literal notranslate"><span class="pre">table</span></code> parameter accepts one or more extended tables (comma-seperated string or list). Each table is either the table name, a year, or ‘latest’ or ‘all’ for extended tables.</p>
<p>The return value is a list of proper table names (‘2016’ will be converted to ‘extended_2016’, etc.) If any of the tables don’t exist, a ValueError is returned.</p>
</dd></dl>

<dl class="method">
<dt id="dyfi.db.Db.row2geojson">
<em class="property">classmethod </em><code class="sig-name descname">row2geojson</code><span class="sig-paren">(</span><em class="sig-param">row</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/db.html#Db.row2geojson"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.db.Db.row2geojson" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Convert a raw dictionary into a GeoJSON object</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>row</strong> (<em>dict</em>) – A <cite>dict</cite>, such as extracted from an <cite>extended</cite> table</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">GeoJSON</span></code> object</p>
</dd>
</dl>
<p>This returns a <cite>GeoJSON</cite> object by extracting the latitude and longitude.</p>
</dd></dl>

<dl class="method">
<dt id="dyfi.db.Db.getExtendedTablesByDatetime">
<em class="property">classmethod </em><code class="sig-name descname">getExtendedTablesByDatetime</code><span class="sig-paren">(</span><em class="sig-param">date</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/db.html#Db.getExtendedTablesByDatetime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.db.Db.getExtendedTablesByDatetime" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Get a list of extended tables for a given date</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>date</strong> – any date, e.g. “2017-01-01”</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of extended table names (extended_*)</p>
</dd>
</dl>
<p>Use this method to determine which extended tables
to search for entries associated to an event.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dyfi.dyfiContainer">
<span id="dyfi-dyficontainer"></span><h2>dyfi.dyfiContainer<a class="headerlink" href="#module-dyfi.dyfiContainer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="dyfi.dyfiContainer.DyfiContainer">
<em class="property">class </em><code class="sig-name descname">DyfiContainer</code><span class="sig-paren">(</span><em class="sig-param">evid</em>, <em class="sig-param">configfile='config.yml'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/dyfiContainer.html#DyfiContainer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.dyfiContainer.DyfiContainer" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Class for handling DyfiContainer objects</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>evid</strong> (<em>str</em>) – Event ID</p></li>
<li><p><strong>configfile</strong> (<em>str</em>) – YAML file with configuration options (default <cite>./cofig.yml</cite>)</p></li>
</ul>
</dd>
</dl>
<p>This implements a container for all DYFI data about a particular event: event data, entries, aggregated intensities, and products.</p>
<p>Creating an instance also initiates DYFI processing:</p>
<ol class="arabic simple">
<li><p>Load event data for this event ID from the database.</p></li>
<li><p>Load entries from the database, aggregate the entries, and filter them.</p></li>
<li><p>Create products from the data.</p></li>
</ol>
<dl class="attribute">
<dt id="dyfi.dyfiContainer.DyfiContainer.event">
<code class="sig-name descname">event</code><a class="headerlink" href="#dyfi.dyfiContainer.DyfiContainer.event" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#dyfi.event.Event" title="dyfi.event.Event"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dyfi.event.Event</span></code></a> object.</p>
</dd></dl>

<dl class="attribute">
<dt id="dyfi.dyfiContainer.DyfiContainer.entries">
<code class="sig-name descname">entries</code><a class="headerlink" href="#dyfi.dyfiContainer.DyfiContainer.entries" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#dyfi.entries.Entries" title="dyfi.entries.Entries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dyfi.entries.Entries</span></code></a> object.</p>
</dd></dl>

<dl class="attribute">
<dt id="dyfi.dyfiContainer.DyfiContainer.products">
<code class="sig-name descname">products</code><a class="headerlink" href="#dyfi.dyfiContainer.DyfiContainer.products" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference internal" href="#dyfi.products.Products" title="dyfi.products.Products"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dyfi.products.Products</span></code></a> object.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dyfi.entries">
<span id="dyfi-entries"></span><h2>dyfi.entries<a class="headerlink" href="#module-dyfi.entries" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="dyfi.entries.Entries">
<em class="property">class </em><code class="sig-name descname">Entries</code><span class="sig-paren">(</span><em class="sig-param">evid=None</em>, <em class="sig-param">event=None</em>, <em class="sig-param">startdatetime=None</em>, <em class="sig-param">cdifilter=None</em>, <em class="sig-param">rawentries=None</em>, <em class="sig-param">config=None</em>, <em class="sig-param">load=True</em>, <em class="sig-param">loadSuspect=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/entries.html#Entries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.entries.Entries" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Handle a collection of entries and aggregation.</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>evid</strong> (<em>str</em>) – (optional) event ID</p></li>
<li><p><strong>event</strong> – (optional) <cite>Event</cite> object</p></li>
<li><p><strong>startdatetime</strong> (<em>str</em>) – (optional) string of format ‘YYYY-MM-DD HH:MM:SS’</p></li>
<li><p><strong>cdifilter</strong> – (optional) <cite>filter</cite> object for filtering data</p></li>
<li><p><strong>rawentries</strong> (<em>list</em>) – (optional) list of raw data (e.g. table rows)</p></li>
<li><p><strong>config</strong> – (optional) A <cite>Config</cite> object</p></li>
<li><p><strong>load</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
</dl>
<p>An Event object or startdatetime is necessary for db.loadEntries
to know which extended tables to search.</p>
<dl class="data">
<dt id="dyfi.entries.Entries.entries">
<code class="sig-name descname">entries</code><a class="headerlink" href="#dyfi.entries.Entries.entries" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of <code class="xref py py-obj docutils literal notranslate"><span class="pre">Entry</span></code> objects.</p>
</dd></dl>

<dl class="method">
<dt id="dyfi.entries.Entries.aggregate">
<code class="sig-name descname">aggregate</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">debug=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/entries.html#Entries.aggregate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.entries.Entries.aggregate" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Aggregate the entry data in this object</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of this aggregation</p></li>
<li><p><strong>default</strong> (<em>bool</em>) – If true, store debugging info in the output</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A <cite>GeoJSON</cite> <code class="xref py py-obj docutils literal notranslate"><span class="pre">FeatureCollection</span></code></p>
</dd>
</dl>
<p>A wrapper to the <a class="reference internal" href="#dyfi.entries.Entries.aggregate" title="dyfi.entries.Entries.aggregate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aggregate</span></code></a> module. The <code class="xref py py-attr docutils literal notranslate"><span class="pre">name</span></code> indicates the kind of aggregation (e.g. ‘geo_1km’ or ‘geo_10km’).</p>
</dd></dl>

<dl class="method">
<dt id="dyfi.entries.Entries.getTimes">
<code class="sig-name descname">getTimes</code><span class="sig-paren">(</span><em class="sig-param">datatype</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/entries.html#Entries.getTimes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.entries.Entries.getTimes" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Create a list of entry times from a list of entries</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>datatype</strong> (<em>str</em>) – Usually ‘time’</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dict of times data</p>
</dd>
</dl>
<p>Used to create the Time vs. Responses graph. The return value is a dict with the following values:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>id</p></td>
<td><p>‘numresp’</p></td>
</tr>
<tr class="row-even"><td><p>name</p></td>
<td><p>Same as <code class="xref py py-attr docutils literal notranslate"><span class="pre">datatype</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>A sorted list of <code class="xref py py-obj docutils literal notranslate"><span class="pre">datetime</span></code> objects</p></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dyfi.event">
<span id="dyfi-event"></span><h2>dyfi.event<a class="headerlink" href="#module-dyfi.event" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="dyfi.event.Event">
<em class="property">class </em><code class="sig-name descname">Event</code><span class="sig-paren">(</span><em class="sig-param">event</em>, <em class="sig-param">config=None</em>, <em class="sig-param">missing_ok=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/event.html#Event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.event.Event" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Class for handling Event objects</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>event</strong> – A <code class="xref py py-class docutils literal notranslate"><span class="pre">dyfi.Event</span></code> object or event ID string</p></li>
<li><p><strong>config</strong> – A <code class="xref py py-class docutils literal notranslate"><span class="pre">dyfiConfig</span></code> object</p></li>
</ul>
</dd>
</dl>
<p>This contains the parameters of a particular earthquake referenced by the event ID. It requires an object that holds data from the Db.loadEvent method, or an event ID string (in which case it loads the event data from the database).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Access the data in this object with the keys in
<a class="reference internal" href="#dyfi.event.Event.columns" title="dyfi.event.Event.columns"><code class="xref py py-obj docutils literal notranslate"><span class="pre">columns</span></code></a> as attributes, e.g. <cite>event.evid</cite>,
<cite>event.region</cite>, etc.</p>
</div>
<dl class="data">
<dt id="dyfi.event.Event.columns">
<code class="sig-name descname">columns</code><a class="headerlink" href="#dyfi.event.Event.columns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A list of all the columns in the event table.</p>
<dl class="attribute">
<dt id="dyfi.event.Event.raw">
<code class="sig-name descname">raw</code><a class="headerlink" href="#dyfi.event.Event.raw" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>A reference to the raw database output of the event data.</p>
<dl class="method">
<dt id="dyfi.event.Event.update">
<em class="property">classmethod </em><code class="sig-name descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/event.html#Event.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.event.Event.update" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Save the contents of this Event object to the DB event table.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>none</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dyfi.graph">
<span id="dyfi-graph"></span><h2>dyfi.graph<a class="headerlink" href="#module-dyfi.graph" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="dyfi.graph.Graph">
<em class="property">class </em><code class="sig-name descname">Graph</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">event</em>, <em class="sig-param">data</em>, <em class="sig-param">config</em>, <em class="sig-param">eventDir=None</em>, <em class="sig-param">title=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/graph.html#Graph"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.graph.Graph" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Create a static graph</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – The filename to create</p></li>
<li><p><strong>event</strong> (<a class="reference internal" href="#dyfi.event.Event" title="dyfi.event.Event"><em>Event</em></a>) – An Event object</p></li>
<li><p><strong>mapparams</strong> (<em>dict</em>) – (optional) params from an eventMap</p></li>
<li><p><strong>data</strong> (<em>dict</em>) – Aggregated data in GeoJSON format</p></li>
<li><p><strong>config</strong> – (optional) A <cite>Config</cite> object</p></li>
</ul>
</dd>
</dl>
<p>The data input should be the aggregated data from <a class="reference internal" href="#module-dyfi.aggregate" title="dyfi.aggregate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dyfi.aggregate</span></code></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Each Graph instance creates its own <code class="xref py py-obj docutils literal notranslate"><span class="pre">self.rawdata</span></code> which is a deep copy of the <code class="xref py py-obj docutils literal notranslate"><span class="pre">data</span></code> object. This allows modifying the dataset without affecting the original.</p>
</div>
<dl class="data">
<dt id="dyfi.graph.Graph.NBINS">
<code class="sig-name descname">NBINS</code><a class="headerlink" href="#dyfi.graph.Graph.NBINS" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of distance bins for the distance vs. intensity graph.</p>
</dd></dl>

<dl class="data">
<dt id="dyfi.graph.Graph.ipelist">
<code class="sig-name descname">ipelist</code><a class="headerlink" href="#dyfi.graph.Graph.ipelist" title="Permalink to this definition">¶</a></dt>
<dd><p>List of IPEs from <a class="reference internal" href="#module-dyfi.ipes" title="dyfi.ipes"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dyfi.ipes</span></code></a> to plot on the distance vs. intensity graph.</p>
</dd></dl>

<dl class="data">
<dt id="dyfi.graph.Graph.graphLabels">
<code class="sig-name descname">graphLabels</code><a class="headerlink" href="#dyfi.graph.Graph.graphLabels" title="Permalink to this definition">¶</a></dt>
<dd><p>Dict of titles, x labels, and y labels for each graph.</p>
</dd></dl>

<dl class="method">
<dt id="dyfi.graph.Graph.getDataDistance">
<code class="sig-name descname">getDataDistance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/graph.html#Graph.getDataDistance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.graph.Graph.getDataDistance" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Collect data for the intensity vs. distance graph</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p>Computes the datasets used for the intensity vs. distance graph using the data in <code class="xref py py-obj docutils literal notranslate"><span class="pre">rawdata</span></code>:</p>
<ul class="simple">
<li><p>Scatter data (from the data input)</p></li>
<li><p>Mean and median in each distance bin</p></li>
<li><p>IPE data plotted across the distance range (for each IPE)</p></li>
</ul>
<p>This populates the <code class="xref py py-attr docutils literal notranslate"><span class="pre">data</span></code> attribute of this instance with a <cite>dict</cite> with the following data:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 73%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>datasets</p></td>
<td><p>The list of datasets</p></td>
</tr>
<tr class="row-even"><td><p>xlabel</p></td>
<td><p>Label text</p></td>
</tr>
<tr class="row-odd"><td><p>ylabel</p></td>
<td><p>Label text</p></td>
</tr>
<tr class="row-even"><td><p>title</p></td>
<td><p>Title of this graph</p></td>
</tr>
</tbody>
</table>
<p>This also populates the <code class="xref py py-attr docutils literal notranslate"><span class="pre">params</span></code> attribute with the graph limits.</p>
</dd></dl>

<dl class="method">
<dt id="dyfi.graph.Graph.getScatterData">
<code class="sig-name descname">getScatterData</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/graph.html#Graph.getScatterData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.graph.Graph.getScatterData" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Computes scatterplot data from entries</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>dict</cite>, see below</p>
</dd>
</dl>
<p>Used by <a class="reference internal" href="#dyfi.graph.Graph.getDataDistance" title="dyfi.graph.Graph.getDataDistance"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getDataDistance()</span></code></a>. Computes distance and intensity from each feature in <code class="xref py py-obj docutils literal notranslate"><span class="pre">self.rawdata</span></code> and outputs a <cite>dict</cite> with the following values:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 81%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>id</p></td>
<td><p>‘scatterdata’</p></td>
</tr>
<tr class="row-even"><td><p>legend</p></td>
<td><p>‘Aggregated [Event ID] data’</p></td>
</tr>
<tr class="row-odd"><td><p>class</p></td>
<td><p>‘scatterplot1’</p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>List of points (see below)</p></td>
</tr>
</tbody>
</table>
<p>Each point in <code class="xref py py-obj docutils literal notranslate"><span class="pre">data</span></code> is a <cite>dict</cite> with x (distance) and y (intensity) for each feature.</p>
</dd></dl>

<dl class="method">
<dt id="dyfi.graph.Graph.getIpeData">
<code class="sig-name descname">getIpeData</code><span class="sig-paren">(</span><em class="sig-param">ipelist=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/graph.html#Graph.getIpeData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.graph.Graph.getIpeData" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Computes IPE estimates for this event</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>list</cite> of data, see below</p>
</dd>
</dl>
<p>Used by <a class="reference internal" href="#dyfi.graph.Graph.getDataDistance" title="dyfi.graph.Graph.getDataDistance"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getDataDistance()</span></code></a>. Computes estimated curves for each IPE for this event (using the event magnitude). The output is a list of <cite>dict`s, one `dict</cite> for each IPE, with the following data:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 83%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>id</p></td>
<td><p>‘ipe_[IPE name]’</p></td>
</tr>
<tr class="row-even"><td><p>legend</p></td>
<td><p>IPE name</p></td>
</tr>
<tr class="row-odd"><td><p>class</p></td>
<td><p>‘estimated[n]’ where [n] is unique</p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>List of points (see below)</p></td>
</tr>
</tbody>
</table>
<p>Each point in <code class="xref py py-obj docutils literal notranslate"><span class="pre">data</span></code> is a <cite>dict</cite> with x (distance) and y (intensity) estimates across the plot range.</p>
</dd></dl>

<dl class="method">
<dt id="dyfi.graph.Graph.getMeanMedianData">
<code class="sig-name descname">getMeanMedianData</code><span class="sig-paren">(</span><em class="sig-param">scatterdata</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/graph.html#Graph.getMeanMedianData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.graph.Graph.getMeanMedianData" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Computes mean and median data for entries</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>list</cite> of data, see below</p>
</dd>
</dl>
<p>Used by <a class="reference internal" href="#dyfi.graph.Graph.getDataDistance" title="dyfi.graph.Graph.getDataDistance"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getDataDistance()</span></code></a>. Computes mean and median data for the entries in each distance bin. The output is a list of <cite>dict</cite> objects, one for mean data and one for median data:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 17%" />
<col style="width: 83%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>id</p></td>
<td><p>‘meanBinned’ or ‘medianBinned’</p></td>
</tr>
<tr class="row-even"><td><p>legend</p></td>
<td><p>‘Mean’ or ‘Median intensity in bin</p></td>
</tr>
<tr class="row-odd"><td><p>class</p></td>
<td><p>‘mean’ or ‘median’</p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>The mean or median datapoints</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dyfi.graph.Graph.getDistBins">
<code class="sig-name descname">getDistBins</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/graph.html#Graph.getDistBins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.graph.Graph.getDistBins" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Computes the bins used for mean/median computation</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>list</cite> of bin boundary values</p>
</dd>
</dl>
<p>Used by <a class="reference internal" href="#dyfi.graph.Graph.getMeanMedianData" title="dyfi.graph.Graph.getMeanMedianData"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getMeanMedianData()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="dyfi.graph.Graph.getTitle">
<code class="sig-name descname">getTitle</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/graph.html#Graph.getTitle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.graph.Graph.getTitle" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Gets a title from the <code class="xref py py-class docutils literal notranslate"><span class="pre">dyfi.Event</span></code> object</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>list</cite> (title, subtitle)</p>
</dd>
</dl>
<p>The standard title has two lines:</p>
<ul class="simple">
<li><p>USGS DYFI: [event location]</p></li>
<li><p>ID:[event ID]</p></li>
</ul>
</dd></dl>

<dl class="method">
<dt id="dyfi.graph.Graph.getDataTime">
<code class="sig-name descname">getDataTime</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/graph.html#Graph.getDataTime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.graph.Graph.getDataTime" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Compute data for the responses vs. time graph</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p>Computes the response count and time after origin for each entry in <code class="xref py py-obj docutils literal notranslate"><span class="pre">rawdata</span></code>.</p>
<p>This populates the <code class="xref py py-attr docutils literal notranslate"><span class="pre">data</span></code> attribute of this instance with a <cite>dict</cite> with the following data:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 41%" />
<col style="width: 59%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>datasets</p></td>
<td><p>The time dataset</p></td>
</tr>
<tr class="row-even"><td><p>xlabel</p></td>
<td><p>Label text</p></td>
</tr>
<tr class="row-odd"><td><p>ylabel</p></td>
<td><p>Label text</p></td>
</tr>
<tr class="row-even"><td><p>title</p></td>
<td><p>Title of this graph</p></td>
</tr>
<tr class="row-odd"><td><p>preferred_unit</p></td>
<td><p>from <a class="reference internal" href="#dyfi.graph.Graph.getTimeBounds" title="dyfi.graph.Graph.getTimeBounds"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getTimeBounds()</span></code></a></p></td>
</tr>
<tr class="row-even"><td><p>preferred_conversion</p></td>
<td><p>from <a class="reference internal" href="#dyfi.graph.Graph.getTimeBounds" title="dyfi.graph.Graph.getTimeBounds"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getTimeBounds()</span></code></a></p></td>
</tr>
<tr class="row-odd"><td><p>eventid</p></td>
<td><p>Event ID</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dyfi.graph.Graph.getTimeBounds">
<em class="property">static </em><code class="sig-name descname">getTimeBounds</code><span class="sig-paren">(</span><em class="sig-param">t</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/graph.html#Graph.getTimeBounds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.graph.Graph.getTimeBounds" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Returns the correct time units for plotting</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>dict</cite>, see below</p>
</dd>
</dl>
<p>Used by <a class="reference internal" href="#dyfi.graph.Graph.getDataTime" title="dyfi.graph.Graph.getDataTime"><code class="xref py py-meth docutils literal notranslate"><span class="pre">getDataTime()</span></code></a>. The output is a <cite>dict</cite> with these values:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>prefUnit</p></td>
<td><p>‘minutes’ or ‘hours’ (for printing)</p></td>
</tr>
<tr class="row-even"><td><p>prefConversion</p></td>
<td><p>60 or 3600</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="dyfi.graph.Graph.toJSON">
<code class="sig-name descname">toJSON</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/graph.html#Graph.toJSON"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.graph.Graph.toJSON" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Convert data into a GeoJSON</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>prettyprinted string</p>
</dd>
</dl>
<p>This prints the <code class="xref py py-obj docutils literal notranslate"><span class="pre">data</span></code> attribute of this object.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dyfi.ipes">
<span id="dyfi-ipes"></span><h2>dyfi.ipes<a class="headerlink" href="#module-dyfi.ipes" title="Permalink to this headline">¶</a></h2>
<p>A collection of IPEs for plotting and filtering.</p>
<dl class="function">
<dt id="dyfi.ipes.aw2007ceus">
<code class="sig-name descname">aw2007ceus</code><span class="sig-paren">(</span><em class="sig-param">mag</em>, <em class="sig-param">r</em>, <em class="sig-param">inverse=False</em>, <em class="sig-param">fine=False</em>, <em class="sig-param">enaCorrection=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/ipes.html#aw2007ceus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.ipes.aw2007ceus" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Estimate intensity given magnitude and distance</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>mag</strong> (<em>float</em>) – Magnitude</p></li>
<li><p><strong>r</strong> (<em>float</em>) – Epicentral distance</p></li>
<li><p><strong>inverse</strong> (<em>bool</em>) – Compute the inverse function</p></li>
<li><p><strong>fine</strong> (<em>bool</em>) – If false, intensities below 2 become 1</p></li>
<li><p><strong>enaCorrection</strong> (<em>bool</em>) – If true, apply correction for Eastern North America</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Intensity; or, if <cite>inverse</cite> is true, magnitude</p>
</dd>
</dl>
<p>Implementation of Atkinson, Wald (2007).
This IPE inverse function is not implemented.</p>
</dd></dl>

<dl class="function">
<dt id="dyfi.ipes.aww2014">
<code class="sig-name descname">aww2014</code><span class="sig-paren">(</span><em class="sig-param">mag</em>, <em class="sig-param">r</em>, <em class="sig-param">inverse=False</em>, <em class="sig-param">fine=False</em>, <em class="sig-param">enaCorrection=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/ipes.html#aww2014"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.ipes.aww2014" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Estimate intensity given magnitude and distance</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>mag</strong> (<em>float</em>) – Magnitude</p></li>
<li><p><strong>r</strong> (<em>float</em>) – Epicentral distance</p></li>
<li><p><strong>inverse</strong> (<em>bool</em>) – Compute the inverse function</p></li>
<li><p><strong>fine</strong> (<em>bool</em>) – If false, intensities below 2 become 1</p></li>
<li><p><strong>enaCorrection</strong> (<em>bool</em>) – If true, apply correction for Eastern North America</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Intensity; or, if <cite>inverse</cite> is true, magnitude</p>
</dd>
</dl>
<p>Implementation of Atkinson, Worden, Wald (2014). Earthquake Ground-Motion Prediction Equations for Eastern North America. See <a class="reference external" href="https://doi.org/10.1785/0120140178">https://doi.org/10.1785/0120140178</a></p>
<p>If <cite>inverse</cite> is true, then the first parameter is treated as intensity, and this returns the magnitude.</p>
</dd></dl>

</div>
<div class="section" id="module-dyfi.map">
<span id="dyfi-map"></span><h2>dyfi.map<a class="headerlink" href="#module-dyfi.map" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="dyfi.map.Map">
<em class="property">class </em><code class="sig-name descname">Map</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">event</em>, <em class="sig-param">data</em>, <em class="sig-param">config</em>, <em class="sig-param">eventDir=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/map.html#Map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.map.Map" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Collects data to create a static map</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name for the map</p></li>
<li><p><strong>event</strong> – A <code class="xref py py-class docutils literal notranslate"><span class="pre">dyfi.Event</span></code> object</p></li>
<li><p><strong>data</strong> – Aggregated data in <cite>GeoJSON</cite> format</p></li>
<li><p><strong>config</strong> – A <code class="xref py py-class docutils literal notranslate"><span class="pre">dyfiConfig</span></code> object</p></li>
<li><p><strong>eventDir</strong> (<em>str</em>) – (optional) event directory (default <cite>data/[eventid]/</cite>)</p></li>
</ul>
</dd>
</dl>
<p>This handles the rendering of DYFI data (aggregated entries in GeoJSON format) into plottable data for <cite>Leaflet</cite>.</p>
<dl class="method">
<dt id="dyfi.map.Map.toGeoJSON">
<code class="sig-name descname">toGeoJSON</code><span class="sig-paren">(</span><em class="sig-param">filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/map.html#Map.toGeoJSON"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.map.Map.toGeoJSON" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Convert this map object into GeoJSON</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>filename</strong> (<em>str</em>) – (optional) filename</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>prettyprinted GeoJSON text</p>
</dd>
</dl>
<p>This prints out the GeoJSON data used for the static images, not the actual GeoJSON data. Hence it’s only used for debugging.</p>
<p>If <cite>filename</cite> is specified, the data is saved to that file.</p>
</dd></dl>

<dl class="method">
<dt id="dyfi.map.Map.toImage">
<code class="sig-name descname">toImage</code><span class="sig-paren">(</span><em class="sig-param">extension='png'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/map.html#Map.toImage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.map.Map.toImage" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Creates the PNG static image</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The resulting filename</p>
</dd>
</dl>
<p>Calls <a class="reference internal" href="#dyfi.map.Map.GeoJSONtoImage" title="dyfi.map.Map.GeoJSONtoImage"><code class="xref py py-func docutils literal notranslate"><span class="pre">GeoJSONtoImage()</span></code></a> with the appropriate parameters. Normally, this is called during the processing of a <a class="reference internal" href="#dyfi.products.Product" title="dyfi.products.Product"><code class="xref py py-class docutils literal notranslate"><span class="pre">dyfi.products.Product</span></code></a> object.</p>
</dd></dl>

<dl class="method">
<dt id="dyfi.map.Map.GeoJSONtoImage">
<em class="property">static </em><code class="sig-name descname">GeoJSONtoImage</code><span class="sig-paren">(</span><em class="sig-param">inputdata</em>, <em class="sig-param">outputfile</em>, <em class="sig-param">config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/map.html#Map.GeoJSONtoImage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.map.Map.GeoJSONtoImage" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Create a static image from a GeoJSON file</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>inputdata</strong> – The input GeoJSON file (str) or GeoJSON object</p></li>
<li><p><strong>outputfile</strong> (<em>str</em>) – The resulting PNG file</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The resulting output file</p>
</dd>
</dl>
<p>Creates the static image using Leaflet to render the map and a screenshot application. See the <span class="xref std std-ref">Creating static products</span> for details.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dyfi.products">
<span id="dyfi-products"></span><h2>dyfi.products<a class="headerlink" href="#module-dyfi.products" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="dyfi.products.Products">
<em class="property">class </em><code class="sig-name descname">Products</code><span class="sig-paren">(</span><em class="sig-param">event</em>, <em class="sig-param">entries</em>, <em class="sig-param">config</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/products.html#Products"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.products.Products" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Handle the generation of all the products</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>event</strong> – A <a class="reference internal" href="#dyfi.event.Event" title="dyfi.event.Event"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dyfi.event.Event</span></code></a> object</p></li>
<li><p><strong>entries</strong> – A <a class="reference internal" href="#dyfi.entries.Entries" title="dyfi.entries.Entries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dyfi.entries.Entries</span></code></a> object</p></li>
<li><p><strong>config</strong> – A <a class="reference internal" href="#dyfi.config.Config" title="dyfi.config.Config"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dyfi.config.Config</span></code></a> object</p></li>
</ul>
</dd>
</dl>
<p>Create all the output files for an event. Each product is held in a <a class="reference internal" href="#dyfi.products.Product" title="dyfi.products.Product"><code class="xref py py-class docutils literal notranslate"><span class="pre">dyfi.products.Product</span></code></a> object, which also runs the required product generation methods.</p>
<dl class="method">
<dt id="dyfi.products.Products.createAll">
<code class="sig-name descname">createAll</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/products.html#Products.createAll"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.products.Products.createAll" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Loop through all product types and create them</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>how many products were created</p>
</dd>
</dl>
<p>This uses the list of products and parameters in the <code class="file docutils literal notranslate"><span class="pre">product.yml</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="dyfi.products.Products.create">
<code class="sig-name descname">create</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/products.html#Products.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.products.Products.create" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Create a <a class="reference internal" href="#dyfi.products.Product" title="dyfi.products.Product"><code class="xref py py-class docutils literal notranslate"><span class="pre">Product</span></code></a> object and underlying product</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>p</strong> (<em>dict</em>) – Set of parameters</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Number of products created</p>
</dd>
</dl>
<p>Create a particular Product using the parameters in <cite>p</cite>. The following parameter keys are accepted in <cite>p</cite> (and are found in <code class="file docutils literal notranslate"><span class="pre">products.yml</span></code>):</p>
<ul class="simple">
<li><p>name</p></li>
<li><p>dataset (geo_1km, geo_10km, time)</p></li>
<li><p>format (geojson, png, jpg, json)</p></li>
<li><p>type (map or graph)</p></li>
</ul>
<p>If the <cite>dataset</cite> parameter is specified (e.g. ‘geo’ or ‘time’), that dataset will be computed.</p>
<p>If the ‘formatType’  is specified, the <a class="reference internal" href="#dyfi.products.Product" title="dyfi.products.Product"><code class="xref py py-class docutils literal notranslate"><span class="pre">Product</span></code></a> initializer will create the product as well (see <a class="reference internal" href="#dyfi.products.Product.create" title="dyfi.products.Product.create"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Product.create()</span></code></a>).</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dyfi.products.Product">
<em class="property">class </em><code class="sig-name descname">Product</code><span class="sig-paren">(</span><em class="sig-param">parent</em>, <em class="sig-param">name</em>, <em class="sig-param">dataset=None</em>, <em class="sig-param">productType=None</em>, <em class="sig-param">productFormat=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/products.html#Product"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.products.Product" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Handle the generation of a single product</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>parent</strong> – A <a class="reference internal" href="#dyfi.products.Products" title="dyfi.products.Products"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Products</span></code></a> object</p></li>
<li><p><strong>name</strong> (<em>str</em>) – The name of this product</p></li>
<li><p><strong>dataset</strong> – See below</p></li>
<li><p><strong>productType</strong> – See below</p></li>
<li><p><strong>productFormat</strong> – See below</p></li>
</ul>
</dd>
</dl>
<p>Holds the output for particular product. This calls other product generators like <code class="xref py py-obj docutils literal notranslate"><span class="pre">Contents</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">Map</span></code>.</p>
<p>If the <cite>dataSet</cite> parameter is set, this will run whatever method is needed to process the raw data (for example, geocoded aggregation, or generating time series data.)</p>
<p>If the <cite>productType</cite> parameter is set, this will create a <a class="reference internal" href="#dyfi.graph.Graph" title="dyfi.graph.Graph"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dyfi.graph.Graph</span></code></a> or <a class="reference internal" href="#dyfi.map.Map" title="dyfi.map.Map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dyfi.map.Map</span></code></a> object from the processed data.</p>
<p>If the <cite>productFormat</cite> parameter is set, this will run the appropriate <cite>create()</cite> method to make and save the file.</p>
<dl class="method">
<dt id="dyfi.products.Product.create">
<code class="sig-name descname">create</code><span class="sig-paren">(</span><em class="sig-param">productFormat</em>, <em class="sig-param">filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/products.html#Product.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.products.Product.create" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopis</dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-dyfi.rawDbSqlite">
<span id="dyfi-rawdbsqlite"></span><h2>dyfi.rawDbSqlite<a class="headerlink" href="#module-dyfi.rawDbSqlite" title="Permalink to this headline">¶</a></h2>
<div class="section" id="rawdbsqlite">
<h3>rawDbSqlite<a class="headerlink" href="#rawdbsqlite" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The database currently implemented in SQLite 3. Low-level database operations are separated into this module in case we wish to reimplement to MySQL (or another solution) in the future.</p>
</div>
<dl class="class">
<dt id="dyfi.rawDbSqlite.RawDb">
<em class="property">class </em><code class="sig-name descname">RawDb</code><span class="sig-paren">(</span><em class="sig-param">dbparams</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/rawDbSqlite.html#RawDb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.rawDbSqlite.RawDb" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Open a Sqlite connection.</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>dbparams</strong> – A configuration <cite>dict</cite>, usually the ‘db’ section of a <a class="reference internal" href="#dyfi.config.Config" title="dyfi.config.Config"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dyfi.config.Config</span></code></a> object.</p>
</dd>
</dl>
<p>Handles raw database transactions.</p>
<dl class="data">
<dt id="dyfi.rawDbSqlite.RawDb.intcolumns">
<code class="sig-name descname">intcolumns</code><a class="headerlink" href="#dyfi.rawDbSqlite.RawDb.intcolumns" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of database columns that must be converted to type <cite>int</cite>.</p>
</dd></dl>

<dl class="data">
<dt id="dyfi.rawDbSqlite.RawDb.floatcolumns">
<code class="sig-name descname">floatcolumns</code><a class="headerlink" href="#dyfi.rawDbSqlite.RawDb.floatcolumns" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of database columns that must be converted to type <cite>float</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="dyfi.rawDbSqlite.RawDb.getCursor">
<code class="sig-name descname">getCursor</code><span class="sig-paren">(</span><em class="sig-param">table</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/rawDbSqlite.html#RawDb.getCursor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.rawDbSqlite.RawDb.getCursor" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Create a Sqlite3 cursor to a particular table</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>table</strong> (<em>str</em>) – Name of a single table</p>
</dd>
</dl>
<p>This creates a Sqlite cursor, which is how Sqlite handles database transactions.</p>
</dd></dl>

<dl class="method">
<dt id="dyfi.rawDbSqlite.RawDb.query">
<code class="sig-name descname">query</code><span class="sig-paren">(</span><em class="sig-param">tables</em>, <em class="sig-param">clause</em>, <em class="sig-param">subs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/rawDbSqlite.html#RawDb.query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.rawDbSqlite.RawDb.query" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Query the database, splitting multiple tables if necessary</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>tables</strong> – table or list of tables to query</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of rows returned by query</p>
</dd>
</dl>
<p>Calls <a class="reference internal" href="#dyfi.rawDbSqlite.RawDb.querySingleTable" title="dyfi.rawDbSqlite.RawDb.querySingleTable"><code class="xref py py-meth docutils literal notranslate"><span class="pre">querySingleTable()</span></code></a> on each table, then concatenates the results into a single list.</p>
<p>The <code class="xref py py-attr docutils literal notranslate"><span class="pre">tables</span></code> parameter accepts a single table or list of tables. No checking of table names is done at this step.</p>
</dd></dl>

<dl class="method">
<dt id="dyfi.rawDbSqlite.RawDb.querySingleTable">
<code class="sig-name descname">querySingleTable</code><span class="sig-paren">(</span><em class="sig-param">table</em>, <em class="sig-param">clause</em>, <em class="sig-param">subs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/rawDbSqlite.html#RawDb.querySingleTable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.rawDbSqlite.RawDb.querySingleTable" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Query a single table of the database</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>table</strong> (<em>str</em>) – table to be queried</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of rows returned by query</p>
</dd>
</dl>
<p>No checking of table names is done at this step.
Automagically fills in the ‘table’ key of each item.</p>
</dd></dl>

<dl class="method">
<dt id="dyfi.rawDbSqlite.RawDb.updateRow">
<code class="sig-name descname">updateRow</code><span class="sig-paren">(</span><em class="sig-param">table</em>, <em class="sig-param">subid</em>, <em class="sig-param">column</em>, <em class="sig-param">val</em>, <em class="sig-param">increment=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/rawDbSqlite.html#RawDb.updateRow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.rawDbSqlite.RawDb.updateRow" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Update a table row</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>table</strong> (<em>str</em>) – table to be saved</p></li>
<li><p><strong>subid</strong> (<em>str</em>) – primary key value</p></li>
<li><p><strong>column</strong> (<em>str</em>) – column to be updated</p></li>
<li><p><strong>val</strong> (<em>str</em>) – new value</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>number of rows changed</p>
</dd>
</dl>
<p>This function is used to update a single row if the primary key is known (subid for extended tables, event ID for everything else.)</p>
</dd></dl>

<dl class="method">
<dt id="dyfi.rawDbSqlite.RawDb.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">table</em>, <em class="sig-param">obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/rawDbSqlite.html#RawDb.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.rawDbSqlite.RawDb.save" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Save an object to the specified table</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>table</strong> (<em>str</em>) – table to be saved</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>primary key (subid of eventid)</p>
</dd>
</dl>
<p>This saves an <cite>Event</cite> or <cite>Entry</cite> object to the database.</p>
</dd></dl>

<dl class="method">
<dt id="dyfi.rawDbSqlite.RawDb.getColumns">
<code class="sig-name descname">getColumns</code><span class="sig-paren">(</span><em class="sig-param">table</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/rawDbSqlite.html#RawDb.getColumns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.rawDbSqlite.RawDb.getColumns" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Read columns from a database table</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>table</strong> (<em>str</em>) – A database table to read</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>List of columns</p>
</dd>
</dl>
<p>This is used to get the list of columns in table, so that the save function can save a row properly.</p>
<p>This will also populate the <cite>columns</cite> attribute.</p>
</dd></dl>

<dl class="method">
<dt id="dyfi.rawDbSqlite.RawDb.createTable">
<code class="sig-name descname">createTable</code><span class="sig-paren">(</span><em class="sig-param">tablefile</em>, <em class="sig-param">table=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dyfi/rawDbSqlite.html#RawDb.createTable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#dyfi.rawDbSqlite.RawDb.createTable" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Synopsis</dt>
<dd class="field-odd"><p>Create a database table from a template</p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>tablefile</strong> (<em>str</em>) – The name of the table file</p>
</dd>
</dl>
<p>This creates a new table from a table template (the DYFI tables are implemented in Sqlite, one .sql file per table.) The template is a blank table file with the extension ‘.template’ in the same directory as the other Sqlite tables.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">USGS Did You Feel It? (DYFI)</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction to Did You Feel It? (DYFI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="product-guide.html">Product Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="scientific-discussion.html">Scientific Discussion</a></li>
<li class="toctree-l1"><a class="reference internal" href="technical-guide.html">Technical Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="implementation-guide.html">Implementation Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="dyfi-questionnaire-api.html">DYFI Questionnaire API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="app.html">rundyfi.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="app.html#makemovie-py">makemovie.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="app.html#makescreenshot-py">makescreenshot.py</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Module list</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests.html">Test Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="validation.html">Validation</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="app.html" title="previous chapter">rundyfi.py</a></li>
      <li>Next: <a href="tests.html" title="next chapter">Test Package</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020 USGS.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/dyfi.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>